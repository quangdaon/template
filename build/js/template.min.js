"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"undefined"==typeof window&&console.log("Please be aware that this library is intended for use in the browser."),"function"==typeof define&&define.amd?define(["Template"],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():e.Template=t()}("undefined"!=typeof window?window:void 0,function(){function e(e,t){var n=new XMLHttpRequest;n.overrideMimeType("application/json"),n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&t(JSON.parse(n.responseText))},n.send(null)}function t(r,o){function i(e,t){switch(e){case"append":t.elem.append(d);break;case"prepend":t.elem.prepend(d);break;case"render":f.parentNode.insertBefore(d,f)}f.remove()}var a=_extends(t.defaults,o),u=n(this),f=document.getElementById(r),c=this,d=document.importNode(f.content,!0);u("element",f,{writable:!1}),u("options",{get:function(){return a},set:function(e){"object"===(void 0===e?"undefined":_typeof(e))&&_extends(a,e)}}),this.flags={l:function(e){return e.toLowerCase()},u:function(e){return e.toUpperCase()},r:function(e){return e.split("").reverse().join("")}},this.inject=function(e){function t(e){return function(t,n,r){var o=e[n];return r&&(r=r.split(""),r.forEach(function(e){if(!c.flags[e])throw new Error("Invalid Flag in "+t);c.flags[e](o)})),o}}var n=a.pattern.replace("$0","(.*?)(?:/(\\w+))?"),r=new RegExp(n,"g");if(Array.isArray(e)){var o=document.importNode(d,!0);d=document.createDocumentFragment(),e.forEach(function(e){for(var n=document.importNode(o,!0),i=n.childNodes.length-1;i>=0;i--){var a=n.childNodes[i];3===a.nodeType&&(a.textContent=a.textContent.trim(),a.textContent||a.remove())}n.querySelectorAll("*").forEach(function(n){n.innerHTML=n.innerHTML.replace(r,t(e));var o=!0,i=!1,a=void 0;try{for(var u,f=n.attributes[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.value=c.value.replace(r,t(e))}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}}),d.appendChild(n)})}else d.children.forEach(function(n){n.textContent=n.textContent.replace(r,t(e));var o=!0,i=!1,a=void 0;try{for(var u,f=n.attributes[Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.value=c.value.replace(r,t(e))}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}});return c},this.injectJSON=function(t){return new Promise(function(n,r){e(t,function(e){c.inject(e),n(e),setTimeout(function(){return r("Timed Out")},500)})})},this.render=function(){return i("render")},this.appendTo=function(e){return i("append",{elem:e})},this.prependTo=function(e){return i("prepend",{elem:e})}}var n=function(e){return function(t,n,r){var o={enumerable:!1,configurable:!1};n.get||n.set?r=n:(o.writable="function"!=typeof n||r,o.value=n),_extends(o,r),Object.defineProperty(e,t,o)}},r=n(t),o={saveOrigin:"data",unwrap:!0,pattern:"{{ $0 }}"};return r("defaults",{get:function(){return o},set:function(e){"object"===(void 0===e?"undefined":_typeof(e))&&_extends(o,e)}}),r("auto",function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll("template").forEach(function(n){if(n.id){var r=new t(n.id);e&&r.inject(e),r.render()}})}),t});